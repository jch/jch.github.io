<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags always come first -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Minimize overriden styles for easy maintenance. Add classes to layouts
    where possible so content is style agnostic -->
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body>
    <div class="container" role="banner">
      <header>
        <a href="/" class="home">Jerry Cheung</a>
        <nav class="nav nav-inline pull-xs-right">
          <a class="nav-link" href="/projects">Projects</a>
          <a class="nav-link" href="/about">About</a>
        </nav>
      </header>

      <h1>
<a id="user-content-rails-webapp-engineering" class="anchor" href="#rails-webapp-engineering" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rails Webapp Engineering</h1>

<p>The day after I came back from Australia, I started my new job at
<a href="http://www.coupa.com">Coupa Software</a>.  I'm absolutely loving it at
the moment because of the awesome people and the amount of software
I'm learning.  Here's just a few that I've picked up in my first week
that I'd like to jot down.</p>

<h2>
<a id="user-content-skinny-controllers-fat-models" class="anchor" href="#skinny-controllers-fat-models" aria-hidden="true"><span class="octicon octicon-link"></span></a>Skinny Controllers, Fat Models</h2>

<p>Here's <a href="http://weblog.jamisbuck.org/2006/10/18/skinny-controller-fat-model">one
article</a>
about it.  It really <em>really</em> helps out with testing.</p>

<h2>
<a id="user-content-association" class="anchor" href="#association" aria-hidden="true"><span class="octicon octicon-link"></span></a>Association</h2>

<p><a href="http://api.rubyonrails.org/classes/ActiveRecord/Aggregations/ClassMethods.html#M001262">composed_of</a></p>

<ul>
<li>cmd-k clears terminal window</li>
<li>rake stats</li>
<li><p>script/spec for an individual test</p></li>
<li><p><a href="http://api.rubyonrails.org/classes/ActionController/Streaming.html">send_data, send_file</a></p></li>
<li><p>render_to_string - returns string, use with send_data</p></li>
<li>
<p><a href="http://www.ruby-doc.org/core/classes/Enumerable.html#M001147">Enumerable:inject</a></p>

<ul>
<li>same as Scheme accumulator I used in 61A</li>
</ul>
</li>
<li>
<p><a href="http://ruby-pdf.rubyforge.org/pdf-writer/doc/classes/PDF/SimpleTable.html">PDF::SimpleTable</a></p>

<ul>
<li>really really easy to use reporter generator.</li>
</ul>
</li>
<li><p>request.xhr? - if request is ajax-y</p></li>
</ul>

<h2>
<a id="user-content-getting-all-tables" class="anchor" href="#getting-all-tables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting All Tables</h2>

<div class="highlight highlight-source-ruby"><pre><span class="pl-c1">ActiveRecord</span>::<span class="pl-c1">Base</span>.establish_connection(<span class="pl-c1">RAILS_ENV</span>.to_sym)
connection <span class="pl-k">=</span> <span class="pl-c1">ActiveRecord</span>::<span class="pl-c1">Base</span>.connection

options[<span class="pl-c1">:tables</span>] <span class="pl-k">||=</span> connection.tables.reject { |<span class="pl-smi">t</span>| <span class="pl-s"><span class="pl-pds">%w(</span>schema_info</span>
<span class="pl-s">sessions<span class="pl-pds">)</span></span>.include?(t) }</pre></div>
    </div>

    <!-- jQuery first, then Bootstrap JS. -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js" integrity="sha384-vZ2WRJMwsjRMW/8U7i6PWi6AlO1L79snBrmgiDpgIWJ82z8eA5lenwvxbMV1PAh7" crossorigin="anonymous"></script>
  </body>
</html>
